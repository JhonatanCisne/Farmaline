<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Inicio - Panel de Administración</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" rel="stylesheet">
    <link href="../CSS/admin.css" rel="stylesheet">
</head>
<body>
    <div class="admin-sidebar" id="admin-sidebar">
        <div class="sidebar-header">
            <img src="../images/farmaline-logo.png" alt="Farmaline Logo" height="40" class="mb-2">
            <h4>ADMIN PANEL</h4>
        </div>
        
        <nav class="sidebar-nav">
            <ul class="nav flex-column">
                <li class="nav-item">
                    <a class="nav-link active" href="admin-inicio.html">
                        <i class="fas fa-home"></i>
                        <span>Inicio</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="admin-productos.html">
                        <i class="fas fa-pills"></i>
                        <span>Productos</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="admin-repartidores.html">
                        <i class="fas fa-truck"></i>
                        <span>Repartidores</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="Login.html" id="logout-btn">
                        <i class="fas fa-sign-out-alt"></i>
                        <span>Cerrar Sesión</span>
                    </a>
                </li>
            </ul>
        </nav>
    </div>

    <div class="main-content">
        <header class="admin-header">
            <div class="d-flex justify-content-between align-items-center">
                <div class="d-flex align-items-center">
                    <button class="btn btn-outline-secondary me-3" id="toggle-sidebar-btn">
                        <i class="fas fa-bars"></i>
                    </button>
                    <h2 class="mb-0">Pedidos</h2>
                </div>
            </div>
        </header>

        <div class="content-area">
            <div class="card mb-4">
                <div class="card-header">
                    <h5>Filtros de Pedidos</h5>
                </div>
                <div class="card-body">
                    <div class="row g-3">
                        <div class="col-md-4">
                            <label for="filtroUsuario" class="form-label">Nombre de Usuario</label>
                            <input type="text" class="form-control" id="filtroUsuario" placeholder="Filtrar por usuario">
                        </div>
                        <div class="col-md-4">
                            <label for="filtroRepartidor" class="form-label">Repartidor</label>
                            <input type="text" class="form-control" id="filtroRepartidor" placeholder="Filtrar por repartidor">
                        </div>
                        <div class="col-md-4">
                            <label for="filtroEstado" class="form-label">Estado</label>
                            <select class="form-select" id="filtroEstado">
                                <option value="">Todos</option>
                                <option value="pendiente">Pendiente</option>
                                <option value="confirmado">Confirmado</option>
                            </select>
                        </div>
                    </div>
                </div>
            </div>

            <div class="card">
                <div class="card-header">
                    <h5>Lista de Pedidos</h5>
                </div>
                <div class="card-body p-0">
                    <div class="table-responsive">
                        <table class="table table-hover table-striped mb-0" id="tablaPedidos">
                            <thead>
                                <tr>
                                    <th>ID Pedido</th>
                                    <th>Usuario</th>
                                    <th>Repartidor Asignado</th>
                                    <th>Fecha</th>
                                    <th>Total</th>
                                    <th>Estado</th>
                                    <th>Acciones</th>
                                </tr>
                            </thead>
                            <tbody>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="pedidoDetailsModal" tabindex="-1" aria-labelledby="pedidoDetailsModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="pedidoDetailsModalLabel">Detalles del Pedido <span id="modalPedidoId"></span></h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div class="row">
                        <div class="col-md-12">
                            <h6>Información General</h6>
                            <p><strong>Usuario:</strong> <span id="modalUsuarioNombre"></span></p>
                            <p><strong>Repartidor:</strong> <span id="modalRepartidorNombre"></span></p>
                            <p><strong>Fecha del Pedido:</strong> <span id="modalFechaPedido"></span></p>
                            <p><strong>Monto Total:</strong> S/ <span id="modalMontoTotal"></span></p>
                            <p><strong>Estado:</strong> <span id="modalEstadoPedido"></span></p>
                        </div>
                    </div>
                    <hr>
                    <h6>Productos del Pedido</h6>
                    <div class="table-responsive">
                        <table class="table table-bordered table-sm">
                            <thead>
                                <tr>
                                    <th>Producto</th>
                                    <th>Cantidad</th>
                                    <th>Subtotal sin igv</th>
                                </tr>
                            </thead>
                            <tbody id="modalProductosBody">
                            </tbody>
                            <tfoot>
                                <tr>
                                    <th colspan="2" class="text-end">Total de Productos sin igv:</th>
                                    <th id="modalSubtotalProductos"></th>
                                </tr>
                            </tfoot>
                        </table>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cerrar</button>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="../JS/admin.js"></script>
    <script src="../JS/admin-inicio.js"></script>
</body>
</html>